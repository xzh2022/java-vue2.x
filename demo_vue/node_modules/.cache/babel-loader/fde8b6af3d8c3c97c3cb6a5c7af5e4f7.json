{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.filter.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Tabs\",\n  data: function data() {\n    return {};\n  },\n  // 动态监控数据的变化\n  computed: {\n    editableTabs: {\n      get: function get() {\n        return this.$store.state.menus.editableTabs;\n      },\n      set: function set(val) {\n        this.$store.state.menus.editableTabs = val;\n      }\n    },\n    editableTabsValue: {\n      get: function get() {\n        return this.$store.state.menus.editableTabsValue;\n      },\n      set: function set(val) {\n        this.$store.state.menus.editableTabsValue = val;\n      }\n    }\n  },\n  methods: {\n    removeTab: function removeTab(targetName) {\n      var tabs = this.editableTabs;\n      var activeName = this.editableTabsValue;\n\n      if (activeName === targetName) {\n        tabs.forEach(function (tab, index) {\n          if (tab.name === targetName) {\n            var nextTab = tabs[index + 1] || tabs[index - 1];\n\n            if (nextTab) {\n              activeName = nextTab.name;\n            }\n          }\n        });\n      }\n\n      this.editableTabsValue = activeName;\n      this.editableTabs = tabs.filter(function (tab) {\n        return tab.name !== targetName;\n      });\n      this;\n    },\n    clickTab: function clickTab(target) {\n      this.$router.push({\n        name: target.name\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAcA;EACAA,YADA;EAEAC,IAFA,kBAEA;IACA;EAGA,CANA;EAOA;EACAC;IACAC;MACAC,GADA,iBACA;QACA;MACA,CAHA;MAIAC,GAJA,eAIAC,GAJA,EAIA;QACA;MACA;IANA,CADA;IASAC;MACAH,GADA,iBACA;QACA;MACA,CAHA;MAIAC,GAJA,eAIAC,GAJA,EAIA;QACA;MACA;IANA;EATA,CARA;EA0BAE;IAEAC,SAFA,qBAEAC,UAFA,EAEA;MACA;MACA;;MACA;QACAC;UACA;YACA;;YACA;cACAC;YACA;UACA;QACA,CAPA;MAQA;;MAEA;MACA;QAAA;MAAA;MAEA;IACA,CApBA;IAsBAC,QAtBA,oBAsBAC,MAtBA,EAsBA;MACA;QAAAd;MAAA;IACA;EAxBA;AA1BA","names":["name","data","computed","editableTabs","get","set","val","editableTabsValue","methods","removeTab","targetName","tabs","activeName","clickTab","target"],"sourceRoot":"src/views/inc","sources":["Tabs.vue"],"sourcesContent":["<template>\r\n  <el-tabs v-model=\"editableTabsValue\" type=\"card\" closable @tab-remove=\"removeTab\" @tab-click=\"clickTab\">\r\n    <el-tab-pane\r\n        v-for=\"(item, index) in editableTabs\"\r\n        :key=\"item.name\"\r\n        :label=\"item.title\"\r\n        :name=\"item.name\"\r\n    >\r\n\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Tabs\",\r\n  data() {\r\n    return {\r\n\r\n    }\r\n  },\r\n  // 动态监控数据的变化\r\n  computed: {\r\n      editableTabs: {\r\n          get() {\r\n              return this.$store.state.menus.editableTabs\r\n          },\r\n          set(val) {\r\n              this.$store.state.menus.editableTabs = val\r\n          }\r\n      },\r\n      editableTabsValue: {\r\n          get() {\r\n              return this.$store.state.menus.editableTabsValue\r\n          },\r\n          set(val) {\r\n            this.$store.state.menus.editableTabsValue = val\r\n          }\r\n      }\r\n  },\r\n  methods: {\r\n\r\n    removeTab(targetName) {\r\n      let tabs = this.editableTabs;\r\n      let activeName = this.editableTabsValue;\r\n      if (activeName === targetName) {\r\n        tabs.forEach((tab, index) => {\r\n          if (tab.name === targetName) {\r\n            let nextTab = tabs[index + 1] || tabs[index - 1];\r\n            if (nextTab) {\r\n              activeName = nextTab.name;\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      this.editableTabsValue = activeName;\r\n      this.editableTabs = tabs.filter(tab => tab.name !== targetName);\r\n\r\n      this\r\n    },\r\n\r\n    clickTab(target) {\r\n        this.$router.push({name: target.name})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}